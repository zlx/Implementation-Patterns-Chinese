## 行为

冯.诺依曼 提出了计算的主要特点--指令应该一句一句地执行。这种特性贯穿在大多数语言当中，包括 Java。这一章节将介绍如何来表示程序的行为。这些模式有：

+ 控制流程 --- 表示一系列步骤的计算
+ 主流程   --- 清晰地表达主控制流程
+ 消息	--- 通过发送消息来表示控制流程
+ 选择消息 --- 用不同的消息来表达不同的选择
+ 两次分发 --- 在两个轴之间实现不同的消息来表示连续的选择
+ 分解消息 --- 将复杂的计算分解为合理的小块
+ 反转消息 --- 通过传递一系列消息到相同的接收器来保证控制流程的对称性
+ 邀请消息 --- 通过发送一个可能被不同方式实现的消息来适应未来的变化
+ 说明消息 --- 发送一个消息来说明一堆复杂逻辑的目的
+ 异常流程 --- 尽可能在不干涉主流程的情况下清晰地表达不常用的流程
+ 警卫条款 --- 通过一个提早返回值来表达临时的异常流程
+ 异常    --- 通过异常来表示非临时异常流程
+ 可检查异常 -- 确保这些明确声明的异常都被捕获
+ 传播异常 --- 根据需要来传播，转化异常，来保证接受者可以获得这些信息

### 控制流程

为什么我们的程序里面需要控制流程？某些程序语言，如 Prolog 里面没有明确的控制流程的概念。逻辑飘浮在那里，等待正确的条件来激活。

Java 那种把控制流程作为基本组成原则的语言家族的一员。相邻的语句一句接着一句执行。条件语句则用来保证语句在某些情况下执行。循环用来重复执行代码。消息用来激活子程序。异常捕获机制则用来跳出堆栈。

所有这些机制都是用来丰富在执行计算这个过程的。作为一个作家/程序员，你决定如何组织你脑海中的流程，包括一个包含异常的主流程和许多个看上去很重要的子流程或者它们的混合体。你将一些控制流程打包来抽象，对于细致的读者，才需要理解它们来知道更具体的细节。一些抽象是常规的，一些这是代理到其它对象的。

### 主流程

程序员脑海中都会有一个主流程。进程从这里开始，到这里结束。这条路上可能会有其它决定或者异常，但是都有计算路径。使用你的程序语言来清晰表达这个。

有些程序，可能被设计成恶意的情况下工作，就不容易出现主流程。然而，这种程序是少数。用你的程序语言的表达力来清晰表示那些很少被执行，很少变化的部分和高度重要的部分：那些被经常阅读，理解和修改的部分。这不是说异常条件不重要，专注于清晰表达主流程更加容易有回报。

因此，清晰表示你的程序的主流程。使用异常和警告条款来表示不正常或者错误条件。

### 消息

在 Java 中，表达逻辑的一个主要含义就是消息。程序语言使用程序调用作为一种信息隐藏机制。

	compute() {
	  input();
	  process();
	  output();
	}

也就是说：为了理解计算过程，你只需要知道她有三个步骤就够了，这时候，细节是不重要的。面向对象编程的一个优美之处是同样的处理过程可以表达更丰富的信息。对于每个方法，可以有相同的结构，而不同的实现细节。所以，对你来说，当你专注于不变的东西时，就不需要关注以后有可能发生变化的部分。

使用消息作为控制流程的基本元素就意味着修改就是程序的基本状态。每个消息都可能是一种可能，尽管发送者不变，接收者都可能发生变化。也就是说：那里有些东西，它们的细节并不重要。基于消息的程序就是说：这时，某些部分感兴趣的消息出现了，细节则可能是多变的。明智地使用这种灵活性，可以清晰和直接地表示那些细节可能会变化的逻辑。如果你想你的代码根据沟通性，这就是一种很重要的技能。

### 选择消息
















